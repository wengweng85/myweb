<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.insigma.mvc.dao.demo.DemoAc01Mapper">
  <!-- 基本sql片段 -->
  <sql id="Base_Column_List">
    AAC001, AAC003, AAC002, AAC004, AAC005, AAC006, AAC033, AAC017, AAC024, AAC011, AAE006, 
    AAC067, AAE015, AAC007, AAC027, ADC100, AAF011, AAE011, AAE036, AAZ002, AAE100, EAE052, 
    AAE200, AAE202, AAE201, AAE203, AAA148, ADC300, AAC127, AAC032, AAC034, AAC035
    ID, AAC128
  </sql>
  
  
  <!-- ac01查询 -->
  <select id="getAc01List" parameterType="Ac01" resultType="Ac01">
    select 
    aac001,
    aac002,
    aac003,
    (select CODE_NAME from code_value t where t.code_type='AAC004' AND CODE_VALUE=aac004) aac004,
    (select CODE_NAME from code_value t where t.code_type='AAC005' AND CODE_VALUE=aac005) aac005,
    aac006,
    (select CODE_NAME from code_value t where t.code_type='AAC033' AND CODE_VALUE=aac033) aac033,
    (select CODE_NAME from code_value t where t.code_type='AAC017' AND CODE_VALUE=aac017) aac017,
    (select CODE_NAME from code_value t where t.code_type='AAC024' AND CODE_VALUE=aac024) aac024,
    (select CODE_NAME from code_value t where t.code_type='AAC011' AND CODE_VALUE=aac011) aac011,
    aae006,
    aae010,
    aae009,
    aae036  
    from DEMO_AC01 
    <where>
      <if test="aac002!=null">
        aac002=#{aac002}
      </if>
      <if test="aac003!=null">
        and aac003 like '%'||#{aac003}||'%' 
      </if>
      <if test="aac004!=null">
        and aac004=#{aac004}
      </if>
      <if test="aac005!=null">
        and aac005=#{aac005}
      </if>
      <if test="aac011!=null">
        and aac011=#{aac011}
      </if>
      <if test="aac006_begin!=null">
        and aac006 <![CDATA[>= ]]>#{aac006_begin,jdbcType=DATE}
      </if>
      <if test="aac006_end!=null">
        and aac006 <![CDATA[<= ]]>#{aac006_end,jdbcType=DATE}
      </if>
      <if test="aae009!=null">
        and aae009 like '%'||#{aae009}||'%' 
      </if>
    </where>
  </select>
  
  <!-- 通过主键查询 -->
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultType="Ac01">
    select 
    <include refid="Base_Column_List" />
    from DEMO_AC01
    where AAC001 = #{aac001,jdbcType=VARCHAR}
  </select>
  
  <!-- 通过主键删除 -->
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from DEMO_AC01
    where AAC001 = #{aac001,jdbcType=VARCHAR}
  </delete>
  
  
  <!-- 批量删除 -->
  <delete id="batDeleteData"  parameterType="String" >
       delete from DEMO_AC01 where aac001 in 
       <foreach item="selectnodes" collection="array" open="(" separator="," close=")">
            #{selectnodes}
       </foreach>
  </delete>


  <!-- 判断这个身份证号码是否存在 -->  
  <select id="selectByAac002" parameterType="Ac01" resultType="Integer">
      select count(*) c from demo_ac01 t where t.aac002=#{aac002} 
      <if test="aac001 != null">
        and aac001 <![CDATA[<>]]> #{aac001}
      </if>
  </select>
  

  
  <!-- insertSelective -->
  <insert id="insertSelective" parameterType="Ac01">
     <selectKey resultType="java.lang.String" order="BEFORE" keyProperty="aac001"> 
            SELECT SQ_AAC001.NEXTVAL from dual 
     </selectKey>
    insert into DEMO_AC01
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="aac001 != null">
        AAC001,
      </if>
      <if test="aac003 != null">
        AAC003,
      </if>
      <if test="aac002 != null">
        AAC002,
      </if>
      <if test="aac004 != null">
        AAC004,
      </if>
      <if test="aac005 != null">
        AAC005,
      </if>
      <if test="aac006 != null">
        AAC006,
      </if>
      <if test="aac033 != null">
        AAC033,
      </if>
      <if test="aac017 != null">
        AAC017,
      </if>
      <if test="aac024 != null">
        AAC024,
      </if>
      <if test="aac011 != null">
        AAC011,
      </if>
      <if test="aae006 != null">
        AAE006,
      </if>
      <if test="aac067 != null">
        AAC067,
      </if>
      <if test="aae015 != null">
        AAE015,
      </if>
      <if test="aac007 != null">
        AAC007,
      </if>
      <if test="aac027 != null">
        AAC027,
      </if>
      <if test="adc100 != null">
        ADC100,
      </if>
      <if test="aaf011 != null">
        AAF011,
      </if>
      <if test="aae009 != null">
        aae009,
      </if>
      <if test="aae011 != null">
        AAE011,
      </if>
      <if test="aae036 != null">
        AAE036,
      </if>
      <if test="aae010 != null">
        aae010,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="aac001 != null">
        #{aac001,jdbcType=VARCHAR},
      </if>
      <if test="aac003 != null">
        #{aac003,jdbcType=VARCHAR},
      </if>
      <if test="aac002 != null">
        #{aac002,jdbcType=VARCHAR},
      </if>
      <if test="aac004 != null">
        #{aac004,jdbcType=VARCHAR},
      </if>
      <if test="aac005 != null">
        #{aac005,jdbcType=VARCHAR},
      </if>
      <if test="aac006 != null">
        #{aac006,jdbcType=DATE},
      </if>
      <if test="aac033 != null">
        #{aac033,jdbcType=VARCHAR},
      </if>
      <if test="aac017 != null">
        #{aac017,jdbcType=VARCHAR},
      </if>
      <if test="aac024 != null">
        #{aac024,jdbcType=VARCHAR},
      </if>
      <if test="aac011 != null">
        #{aac011,jdbcType=VARCHAR},
      </if>
      <if test="aae006 != null">
        #{aae006,jdbcType=VARCHAR},
      </if>
      <if test="aac067 != null">
        #{aac067,jdbcType=VARCHAR},
      </if>
      <if test="aae015 != null">
        #{aae015,jdbcType=VARCHAR},
      </if>
      <if test="aac007 != null">
        #{aac007,jdbcType=VARCHAR},
      </if>
      <if test="aac027 != null">
        #{aac027,jdbcType=VARCHAR},
      </if>
      <if test="adc100 != null">
        #{adc100,jdbcType=VARCHAR},
      </if>
      <if test="aaf011 != null">
        #{aaf011,jdbcType=VARCHAR},
      </if>
      <if test="aae009 != null">
        #{aae009,jdbcType=VARCHAR},
      </if>
      <if test="aae011 != null">
        #{aae011,jdbcType=VARCHAR},
      </if>
      <if test="aae036 != null">
        #{aae036,jdbcType=TIMESTAMP},
      </if>
      <if test="aae010 != null">
        #{aae010,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  
  <!-- 动态更新 -->
  <update id="updateByPrimaryKeySelective" parameterType="Ac01">
    update DEMO_AC01
    <set>
      <if test="aac003 != null">
        AAC003 = #{aac003,jdbcType=VARCHAR},
      </if>
      <if test="aac002 != null">
        AAC002 = #{aac002,jdbcType=VARCHAR},
      </if>
      <if test="aac004 != null">
        AAC004 = #{aac004,jdbcType=VARCHAR},
      </if>
      <if test="aac005 != null">
        AAC005 = #{aac005,jdbcType=VARCHAR},
      </if>
      <if test="aac006 != null">
        AAC006 = #{aac006,jdbcType=DATE},
      </if>
      <if test="aac033 != null">
        AAC033 = #{aac033,jdbcType=VARCHAR},
      </if>
      <if test="aac017 != null">
        AAC017 = #{aac017,jdbcType=VARCHAR},
      </if>
      <if test="aac024 != null">
        AAC024 = #{aac024,jdbcType=VARCHAR},
      </if>
      <if test="aac011 != null">
        AAC011 = #{aac011,jdbcType=VARCHAR},
      </if>
      <if test="aae006 != null">
        AAE006 = #{aae006,jdbcType=VARCHAR},
      </if>
      <if test="aac067 != null">
        AAC067 = #{aac067,jdbcType=VARCHAR},
      </if>
      <if test="aae015 != null">
        AAE015 = #{aae015,jdbcType=VARCHAR},
      </if>
      <if test="aac007 != null">
        AAC007 = #{aac007,jdbcType=VARCHAR},
      </if>
      <if test="aac027 != null">
        AAC027 = #{aac027,jdbcType=VARCHAR},
      </if>
      <if test="adc100 != null">
        ADC100 = #{adc100,jdbcType=VARCHAR},
      </if>
      <if test="aaf011 != null">
        AAF011 = #{aaf011,jdbcType=VARCHAR},
      </if>
      <if test="aae009 != null">
        aae009 = #{aae009,jdbcType=VARCHAR},
      </if>
      <if test="aae011 != null">
        AAE011 = #{aae011,jdbcType=VARCHAR},
      </if>
      <if test="aae036 != null">
        AAE036 = #{aae036,jdbcType=TIMESTAMP},
      </if>
      <if test="aae010 != null">
        aae010 = #{aae010,jdbcType=VARCHAR},
      </if>
    </set>
    where AAC001 = #{aac001,jdbcType=VARCHAR}
  </update>
</mapper>